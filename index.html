<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>èƒ–æ³¢åŠŸèƒ½æ¸¬è©¦å ´</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { background: #222; font-family: sans-serif; overflow: hidden; }

    #ui-panel {
      position: absolute;
      top: 10px;
      left: 10px;
      z-index: 10;
    }

    .test-btn {
      display: inline-block;
      margin: 4px;
      padding: 6px 12px;
      background: #444;
      border: 1px solid #888;
      color: white;
      cursor: pointer;
      font-size: 14px;
      border-radius: 4px;
    }

    #message-box {
  position: absolute;
  top: 0;
  right: 0;
  width: 260px;
  height: 100vh;
  padding: 10px;
  box-sizing: border-box;
  overflow-y: auto;
  background: rgba(0, 0, 0, 0.7);
  color: white;
  font-size: 14px;
  font-family: monospace;
  z-index: 20;
  cursor: move; /* åŠ ä¸Šæ‹–æ›³æ„Ÿ */
}


    .message-line {
      margin-bottom: 8px;
      border-bottom: 1px solid rgba(255,255,255,0.1);
      padding-bottom: 4px;
    }

    canvas {
      display: block;
    }
  </style>
</head>
<body>

  <!-- æ¸¬è©¦æŒ‰éˆ•åˆ— -->
  <div id="ui-panel">
    <button class="test-btn" onclick="runTest('move')">ğŸ•¹ æ¸¬è©¦èƒ–æ³¢ç§»å‹•</button>
    <button class="test-btn" onclick="runTest('map')">ğŸ—º è¼‰å…¥åœ°åœ–</button>
    <button class="test-btn" onclick="runTest('enemy')">ğŸ‘¾ ç”Ÿæˆæ•µäºº</button>
    <button class="test-btn" onclick="runTest('dialog')">ğŸ’¬ é¡¯ç¤ºè¨Šæ¯æ¡†</button>
  </div>

  <!-- å³å´è¨Šæ¯æ¡† -->
  <div id="message-box"></div>
  <!-- åŸæœ¬è¨Šæ¯æ¡† -->
  <div id="message-box" draggable="true"></div>

  <!-- Phaser æ ¸å¿ƒèˆ‡è…³æœ¬ -->
  <script src="https://cdn.jsdelivr.net/npm/phaser@3/dist/phaser.js"></script>

  <script>
    // ğŸ§  UI é¡¯ç¤ºè¨Šæ¯æ¡†
    const messageBox = document.getElementById('message-box');
    function showMessage(text) {
      const line = document.createElement('div');
      line.className = 'message-line';
      line.innerText = 'ğŸŸ¢ ' + text;
      messageBox.appendChild(line);
      messageBox.scrollTop = messageBox.scrollHeight;
    }

    // ğŸ® Phaser ä¸»éŠæˆ²è¨­å®š
    const config = {
      type: Phaser.AUTO,
      width: window.innerWidth - 260, // æ‰£æ‰è¨Šæ¯æ¬„
      height: window.innerHeight,
      backgroundColor: '#1d1d1d',
      scene: {
        preload,
        create,
        update
      }
    };

    const game = new Phaser.Game(config);
    let pokota;
    let scene;

    function preload() {
      this.load.image('pokota', 'https://dummyimage.com/32x32/ff69b4/000000&text=P');
    }

    function create() {
      scene = this;
      window.scene = this;

      pokota = this.add.sprite(200, 200, 'pokota');
      window.pokota = pokota;

      showMessage('ğŸ® éŠæˆ²å•Ÿå‹•ï¼Œèƒ–æ³¢å‡ºå ´å•¦ï¼');
    }

    function update() {}

    // âš™ï¸ æ¸¬è©¦åŠŸèƒ½å…¥å£
    function runTest(feature) {
      switch (feature) {
        case 'move':
          showMessage('èƒ–æ³¢é–‹å§‹äº‚è·‘ï¼');
          if (scene && pokota) {
            let dx = Phaser.Math.Between(-1, 1);
            let dy = Phaser.Math.Between(-1, 1);
            pokota.x += dx * 32;
            pokota.y += dy * 32;
          }
          break;
        case 'map':
          showMessage('ğŸ“¡ åœ°åœ–è¼‰å…¥ä¸­...ï¼ˆå°šæœªå¯¦ä½œï¼‰');
          break;
        case 'enemy':
          showMessage('ğŸ‘¾ æ•µäººç”Ÿæˆå®Œæˆï¼ï¼ˆå°šæœªå¯¦ä½œï¼‰');
          break;
        case 'dialog':
          showMessage('ğŸ’¬ é€™æ˜¯ä¸€å€‹æ¸¬è©¦è¨Šæ¯æ¡†å”·ï½');
          break;
      }
    }
  </script>

</body>
</html>
